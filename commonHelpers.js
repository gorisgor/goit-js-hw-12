import{a as w,S as C,i as m}from"./assets/vendor-09d7c26e.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();const S="https://pixabay.com/api/",q="43757696-1a32682a4096c08080d446579",p=(o,e)=>w.get(`${S}?key=${q}`,{params:{q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:e}});function f(o,e){const r=o.hits.map(u=>{const{webformatURL:t,largeImageURL:s,tags:i,likes:y,views:L,comments:b,downloads:v}=u;return`<li class="card">
          <a class="gallery-link" href="${s}">
            <img src="${t}" alt="${i}">
          </a>
          <div class="card-body">
            <p class="card-text">Likes <span>${y}</span></p>
            <p class="card-text">Views <span>${L}</span></p>
            <p class="card-text">Comments <span>${b}</span></p>
            <p class="card-text">Downloads <span>${v}</span></p>
          </div>
        </li>`}).join("");e.insertAdjacentHTML("beforeend",r)}const n=document.querySelector(".gallery"),M=document.querySelector(".form"),a=document.querySelector(".loader"),d=document.querySelector(".load-more");let g=null,c=1,l=0;const h=new C(".gallery a",{captionsData:"alt",captionsDelay:250,overlayOpacity:0});M.addEventListener("submit",P);d.addEventListener("click",$);async function P(o){o.preventDefault();const e=o.currentTarget;if(g=e.elements.query.value.trim(),n.innerHTML="",c=1,g===""){m.show({message:"Please, fulfill a search query",position:"topRight",backgroundColor:"#00e800",timeout:3e3}),a.classList.add("is-hidden"),d.classList.add("invisible"),e.reset();return}a.classList.remove("is-hidden");try{const{data:r}=await p(g,c);if(r.total===0){a.classList.add("is-hidden"),e.reset(),n.innerHTML="",m.show({message:"Sorry, there are no images matching your search query. Please try again!",messageColor:"#fff",backgroundColor:"#fe9b00",position:"topRight",timeout:2e3});return}f(r,n),h.refresh(),l=Math.ceil(r.totalHits/15),l>1&&d.classList.remove("invisible"),a.classList.add("is-hidden")}catch(r){console.error(r),m.error({message:"Something went wrong!",messageColor:"#fff",backgroundColor:"#b52222",position:"topRight",progressBar:!1}),a.classList.add("is-hidden")}e.reset()}function R(){const r=n.querySelector(".card").getBoundingClientRect().height*2;window.scrollBy({top:r,behavior:"smooth"})}async function $(o){o.preventDefault();try{c+=1;const{data:e}=await p(g,c);if(a.classList.remove("is-hidden"),f(e,n),h.refresh(),l=Math.ceil(e.totalHits/15),l>1&&d.classList.remove("invisible"),a.classList.add("is-hidden"),c>=l)throw d.classList.add("invisible"),new Error;R()}catch{m.show({message:"We're sorry, but you've reached the end of search results.",position:"topRight",backgroundColor:"#01e2f2",timeout:4e3})}a.classList.add("is-hidden")}
//# sourceMappingURL=commonHelpers.js.map
